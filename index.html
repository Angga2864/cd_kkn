<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mengarungi Karimun Kemujan - KKN-PPM UGM Periode 4 Tahun 2025</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Variabel Warna sesuai referensi */
        :root {
            --hijau-muda: #BCCCB6;
            --krem-terang: #FEF6E4;
            --hijau-kebiruan: #569F9B;
            --jingga-terang: #EE8D22;
            --biru-tua: #046399;
            --hijau-tua: #038560;
            --shadow: rgba(0, 0, 0, 0.1);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--krem-terang);
            color: var(--biru-tua);
            line-height: 1.6;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* Header */
        header {
            background: linear-gradient(135deg, var(--hijau-kebiruan), var(--biru-tua));
            color: white;
            padding: 25px 0;
            padding-bottom: 39px; /* tambah space agar wave turun */
            border-radius: 0 0 20px 20px;
            box-shadow: 0 8px 20px var(--shadow);
            position: relative;
            overflow: hidden;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .title-container {
            flex: 1;
            min-width: 300px;
        }
        
        h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        /* Logo animasi */
        .logo-container {
            position: relative;
            width: 200px;
            height: 150px;
        }

        .logo-image {
        width: 100%;              /* gambar memenuhi wadah */
        height: 100%;
        object-fit: cover;        /* tidak melebar, auto crop rapi */
        border-radius: 50%;       /* bikin bulat */
        pointer-events: none;     /* klik tetap diterima div parent jika ada JS animasi */
        box-shadow: 0 0 15px rgba(255,255,255,0.6);
        }

        .animated-logo {
        width: 100px;
        height: 100px;
        background: radial-gradient(circle, var(--jingga-terang) 30%, var(--hijau-tua) 70%);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        animation: float 6s ease-in-out infinite, rotate 20s linear infinite;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        overflow: hidden;         /* ini penting agar gambar tidak keluar lingkaran */
        }

        
        .logo-icon {
            font-size: 50px;
            color: white;
        }
        
        /* Tanggal realtime */
        .date-container {
            background-color: white;
            color: var(--biru-tua);
            padding: 15px 25px;
            border-radius: 15px;
            margin-top: 20px;
            text-align: center;
            box-shadow: 0 5px 15px var(--shadow);
            display: inline-block;
        }
        
        .realtime-date {
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        /* Konten utama */
        .main-content {
            margin: 40px 0;
        }
        
        .section {
            background-color: white;
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 25px var(--shadow);
            transition: transform 0.3s ease;
        }
        
        .section:hover {
            transform: translateY(-5px);
        }
        
        .section-title {
            color: var(--hijau-kebiruan);
            font-size: 1.8rem;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid var(--hijau-muda);
        }
        
        /* Countdown */
        .countdown-container {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
            margin: 30px 0;
        }
        
        .countdown-box {
            background: linear-gradient(to bottom, var(--hijau-kebiruan), var(--biru-tua));
            color: white;
            width: 120px;
            height: 120px;
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
        
        .countdown-box:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
        }
        
        .countdown-value {
            font-size: 2.5rem;
            font-weight: bold;
            line-height: 1;
        }
        
        .countdown-label {
            font-size: 0.9rem;
            margin-top: 5px;
            text-align: center;
        }
        
        /* Grafik penyu */
        .turtle-container {
            position: relative;
            height: 200px;
            background: linear-gradient(to bottom, #4ca1d3, #1e7ab5);
            border-radius: 15px;
            margin: 40px 0;
            overflow: hidden;
            box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.2);
        }
        
        .sea-background {
            position: absolute;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(circle at 20% 80%, rgba(255, 255, 255, 0.2) 2px, transparent 2px),
                radial-gradient(circle at 40% 20%, rgba(255, 255, 255, 0.2) 2px, transparent 2px),
                radial-gradient(circle at 60% 50%, rgba(255, 255, 255, 0.2) 2px, transparent 2px),
                radial-gradient(circle at 80% 30%, rgba(255, 255, 255, 0.2) 2px, transparent 2px);
            background-size: 50px 50px;
        }
        
        .progress-bar {
            position: absolute;
            top: 50%;
            left: 5%;
            width: 90%;
            height: 10px;
            background-color: rgba(255, 255, 255, 0.3);
            border-radius: 5px;
            transform: translateY(-50%);
        }
        
        .progress-fill {
            height: 100%;
            width: 0%;
            background: linear-gradient(to right, var(--hijau-muda), var(--hijau-tua));
            border-radius: 5px;
            transition: width 1.5s ease;
            box-shadow: 0 0 10px rgba(3, 133, 96, 0.5);
        }
        
        .turtle {
            position: absolute;
            top: 50%;
            left: 5%;
            width: 60px;
            height: 40px;
            transform: translateY(-50%);
            transition: left 1.5s ease;
            filter: grayscale(100%);
        }
        
        .turtle-color {
            filter: grayscale(0%) brightness(1.1);
        }
        
        .turtle-icon {
            font-size: 40px;
            color: var(--hijau-tua);
            animation: swim 2s ease-in-out infinite;
        }
        
        .percentage-text {
            position: absolute;
            top: 30%;
            left: 50%;
            transform: translateX(-50%);
            font-size: 2.5rem;
            font-weight: bold;
            color: white;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .progress-dates {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
            font-weight: bold;
            color: var(--biru-tua);
        }
        
        /* Footer */
        footer {
            background: linear-gradient(135deg, var(--biru-tua), var(--hijau-kebiruan));
            color: white;
            text-align: center;
            padding: 25px 0;
            border-radius: 20px 20px 0 0;
            margin-top: 40px;
            box-shadow: 0 -5px 20px var(--shadow);
        }
        
        .footer-content {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .copyright {
            font-size: 1rem;
            margin-top: 10px;
            opacity: 0.9;
        }
        
        .wave {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        overflow: hidden;
        line-height: 0;
        }

        .wave svg {
        width: calc(100% + 1.3px);
        height: 60px;
        }

        
        .wave .shape-fill {
            fill: var(--krem-terang);
        }
        
        /* Animasi */
        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-15px) rotate(5deg); }
        }
        
        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @keyframes swim {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-5px) rotate(5deg); }
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }
        
        /* Responsif */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                text-align: center;
            }
            
            .logo-container {
                margin-top: 20px;
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            .countdown-box {
                width: 100px;
                height: 100px;
            }
            
            .countdown-value {
                font-size: 2rem;
            }
            
            .section {
                padding: 20px;
            }
        }
        
        @media (max-width: 480px) {
            .countdown-box {
                width: 80px;
                height: 80px;
            }
            
            .countdown-value {
                font-size: 1.8rem;
            }
            
            .percentage-text {
                font-size: 2rem;
            }
        }

        /* ===== Galeri Foto ===== */
        .gallery-wrapper {
            position: relative;
            margin-top: 20px;
            overflow: hidden;
            border-radius: 12px;
            background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(0,0,0,0.03));
            padding: 12px 0;
            box-shadow: 0 8px 20px rgba(0,0,0,0.06);
        }

        .gallery-track {
            display: flex;
            gap: 14px;
            transition: transform 0.6s cubic-bezier(.2,.8,.2,1);
            will-change: transform;
            padding: 12px;
        }

        .gallery-item {
            min-width: 260px; /* item width */
            flex: 0 0 auto;
            border-radius: 10px;
            overflow: hidden;
            background: #fff;
            box-shadow: 0 6px 16px rgba(3,133,96,0.06);
        }

        .gallery-item img {
            display: block;
            width: 100%;
            height: 170px;
            object-fit: cover;
        }

        /* Controls */
        .gallery-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255,255,255,0.95);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 8px;
            box-shadow: 0 6px 18px rgba(3,133,96,0.12);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--biru-tua);
            transition: transform 0.15s ease;
            z-index: 5;
        }

        .gallery-btn:hover { transform: translateY(-50%) scale(1.05); }

        .gallery-btn.prev { left: 12px; }
        .gallery-btn.next { right: 12px; }

        /* Dots */
        .gallery-dots {
            position: absolute;
            bottom: 8px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 8px;
            z-index: 6;
        }

        .gallery-dots button {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            border: none;
            background: rgba(255,255,255,0.6);
            box-shadow: 0 2px 6px rgba(0,0,0,0.15);
            cursor: pointer;
            opacity: 0.9;
        }

        .gallery-dots button.active {
            background: var(--hijau-tua);
            box-shadow: 0 4px 12px rgba(3,133,96,0.28);
        }

        /* Responsif */
        @media (max-width: 900px) {
            .gallery-item { min-width: 220px; }
            .gallery-item img { height: 150px; }
        }
        @media (max-width: 480px) {
            .gallery-item { min-width: 160px; }
            .gallery-item img { height: 120px; }
        }

        /* ===== Back to Top ===== */
        #back-to-top {
            position: fixed;
            bottom: 28px;
            right: 24px;
            width: 44px;
            height: 44px;
            border-radius: 10px;
            background: linear-gradient(180deg, var(--jingga-terang), var(--hijau-kebiruan));
            color: white;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 8px 20px rgba(3,133,96,0.18);
            cursor: pointer;
            opacity: 0;
            transform: translateY(12px);
            transition: opacity 0.25s ease, transform 0.25s ease;
            z-index: 999;
        }
        #back-to-top.show {
            opacity: 1;
            transform: translateY(0);
        }
        #back-to-top i { font-size: 16px; }

        /* Small accessibility tweak for focus */
        .gallery-btn:focus, .gallery-dots button:focus, #back-to-top:focus {
            outline: 3px solid rgba(86,159,155,0.18);
            outline-offset: 2px;
        }

        /* ------- Floating Music Control Style ------- */
        .music-control {
            position: fixed;
            right: 25px;
            bottom: 110px; /* posisinya di atas tombol back-to-top */
            display: flex;
            gap: 8px;
            z-index: 999;
        }

        .music-control button {
            background: #ffbb00;
            border: none;
            color: #000;
            padding: 12px 14px;
            font-size: 18px;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0,0,0,0.25);
            transition: 0.3s;
            font-weight: bold;
        }

        /* Efek hover */
        .music-control button:hover {
            transform: scale(1.15);
            background: #ffdd55;
        }

        /* Jika ingin bentuk glow saat musik play */
        .music-control.playing button#music-toggle {
            animation: glow 1s infinite alternate;
        }

        @keyframes glow {
            from { box-shadow: 0 0 5px #ffbb00; }
            to { box-shadow: 0 0 15px #ffd700; }
        }

    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container header-content">
            <div class="title-container">
                <h1>Mengarungi Karimun Kemujan</h1>
                <p class="subtitle">KKN-PPM UGM Periode 4 Tahun 2025 - Desa Karimun Jawa & Desa Kemujan</p>
                <div class="date-container">
                    <div class="realtime-date" id="realtime-date">Loading tanggal...</div>
                </div>
            </div>
            <div class="logo-container">
            <div class="animated-logo" id="animated-logo">
                <img src="logo.jpg" alt="Logo" class="logo-image">
            </div>
            </div>
        </div>
        
        <!-- Wave decoration -->
        <div class="wave">
            <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
                <path d="M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z" class="shape-fill"></path>
            </svg>
        </div>
    </header>
    
    <!-- Konten Utama -->
    <div class="container main-content">
        <!-- Section 1: Hitungan menuju 19 Desember 2025 -->
        <section class="section">
            <h2 class="section-title">Menuju Upacara Penerjunan</h2>
            <p>Countdown menuju <strong>Upacara Penerjunan KKN Periode 4 Tahun 2025 dan Keberangkatan KKN</strong></p>
            
            <div class="countdown-container" id="countdown-december">
                <!-- Countdown akan diisi oleh JavaScript -->
            </div>
            <br>
            <div style="text-align: center; margin-top: 20px;">
                <p><i class="fas fa-calendar-alt"></i> <strong>19 Desember 2025</strong> Mengukir dan Merajut Cerita di Karimun Jawa Dimulai</p>
            </div>
        </section>
        
        <!-- Section 2: Grafik persentase dengan penyu -->
        <section class="section">
            <h2 class="section-title">Perjalanan Operasional KKN</h2>
            <p>Grafik persentase operasional KKN dari tanggal 19 Desember 2025 hingga 7 Februari 2026. Ikon penyu akan berenang dari kiri ke kanan sesuai persentase yang telah terlampaui.</p>
            
            <div class="turtle-container">
                <div class="sea-background"></div>
                <div class="percentage-text" id="percentage-text">0%</div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
                <div class="turtle" id="turtle">
                    <i class="fas fa-turtle turtle-icon" id="turtle-icon"></i>
                </div>
            </div>
            
            <div class="progress-dates">
                <div>19 Des 2025</div>
                <div>7 Feb 2026</div>
            </div>
            
            <div style="text-align: center; margin-top: 20px;">
                <p><i class="fas fa-info-circle"></i> Penyu akan terus berenang membersamai kawan Renjana Karimun Jawa hingga akhir periode</p>
            </div>
        </section>

        <!-- Section: Galeri Foto -->
        <section class="section" id="gallery-section" aria-label="Galeri Foto KKN">
            <h2 class="section-title">Galeri Renjana</h2>
            <p>Sedikit momen hangat kebersamaan kami</p>

            <div class="gallery-wrapper">
            <div class="gallery-track" id="gallery-track">
                <!-- Ganti src dengan path gambarmu -->
                <div class="gallery-item"><img src="kkn1.jpg" alt="Foto 1"></div>
                <div class="gallery-item"><img src="kkn2.jpg" alt="Foto 2"></div>
                <div class="gallery-item"><img src="kkn3.jpg" alt="Foto 3"></div>
                <div class="gallery-item"><img src="kkn4.jpg" alt="Foto 4"></div>
                <div class="gallery-item"><img src="kkn5.jpg" alt="Foto 5"></div>
                <div class="gallery-item"><img src="kkn6.jpg" alt="Foto 6"></div>
                <div class="gallery-item"><img src="kkn7.png" alt="Foto 7"></div>
            </div>

            <!-- Controls -->
            <button class="gallery-btn prev" id="gallery-prev" aria-label="Sebelumnya">
                <i class="fas fa-chevron-left"></i>
            </button>
            <button class="gallery-btn next" id="gallery-next" aria-label="Selanjutnya">
                <i class="fas fa-chevron-right"></i>
            </button>

            <!-- Dots -->
            <div class="gallery-dots" id="gallery-dots" aria-hidden="false"></div>
            </div>
        </section>

        
        <!-- Section 3: Hitungan menuju 7 Februari 2026 -->
        <section class="section">
            <h2 class="section-title">Menuju Penarikan KKN</h2>
            <p>Hitungan mundur menuju <strong>Penarikan KKN-PPM UGM Periode 4 Tahun 2025</strong></p>
            
            <div class="countdown-container" id="countdown-february">
                <!-- Countdown akan diisi oleh JavaScript -->
            </div>
            
            <div style="text-align: center; margin-top: 20px;">
                <p><i class="fas fa-calendar-alt"></i> <strong>7 Februari 2026</strong> - Hari penutupan dan refleksi pengabdian</p>
            </div>
        </section>
    </div>

    <button id="back-to-top" title="Kembali ke atas" aria-label="Kembali ke atas">
    <i class="fas fa-arrow-up"></i>
    </button>

    <!-- Tombol Musik (floating control) -->
    <div class="music-control">
        <button id="music-toggle">â–¶</button>
        <button id="volume-down">ðŸ”‰</button>
        <button id="volume-up">ðŸ”Š</button>
    </div>

    <audio id="bg-music" src="anthem.m4a"></audio>
    
    <!-- Footer -->
    <footer>
        <div class="container footer-content">
            <div class="wave" style="transform: rotate(180deg); top: 0;">
                <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
                    <path d="M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z" class="shape-fill"></path>
                </svg>
            </div>
            
            <h3>KKN-PPM UGM Periode 4 Tahun 2025</h3>
            <p>Tim KKN JT-164 Renjana Karimunjawa</p>
            <div class="copyright">
                <p>&copy; 2025 - Didan Arisdya A P. Hak Cipta Dilindungi.</p>
            </div>
        </div>
    </footer>

    <script>
        // Fungsi untuk menampilkan tanggal realtime
        function updateRealtimeDate() {
            const now = new Date();
            const options = { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit'
            };
            const formattedDate = now.toLocaleDateString('id-ID', options);
            document.getElementById('realtime-date').textContent = formattedDate;
        }
        
        // Fungsi untuk menghitung selisih hari antara dua tanggal
        function getDaysBetweenDates(startDate, endDate) {
            const diffTime = endDate - startDate;
            return Math.ceil(diffTime / (1000 * 60 * 60 * 24));
        }
        
        // Fungsi untuk menghitung persentase KKN
        function calculateKKNPercentage() {
            const startDate = new Date('2025-12-19');
            const endDate = new Date('2026-02-07');
            const today = new Date();
            
            // Jika hari ini sebelum tanggal mulai
            if (today < startDate) return 0;
            
            // Jika hari ini setelah tanggal selesai
            if (today > endDate) return 100;
            
            // Hitung persentase
            const totalDays = getDaysBetweenDates(startDate, endDate);
            const daysPassed = getDaysBetweenDates(startDate, today);
            const percentage = Math.min(100, Math.max(0, (daysPassed / totalDays) * 100));
            
            return percentage.toFixed(2);
        }
        
        // Fungsi untuk memperbarui animasi penyu
        function updateTurtleAnimation() {
            const percentage = parseFloat(calculateKKNPercentage());
            const progressFill = document.getElementById('progress-fill');
            const turtle = document.getElementById('turtle');
            const turtleIcon = document.getElementById('turtle-icon');
            const percentageText = document.getElementById('percentage-text');
            
            // Update persentase teks
            percentageText.textContent = `${percentage}%`;
            
            // Update progress bar (5% margin kiri/kanan)
            const fillWidth = 5 + (percentage * 0.9);
            progressFill.style.width = `${fillWidth}%`;
            
            // Update posisi penyu (5% margin kiri, 95% margin kanan)
            const turtlePosition = 5 + (percentage * 0.9);
            turtle.style.left = `${turtlePosition}%`;
            
            // Ubah warna penyu jika persentase > 0
            if (percentage > 0) {
                turtleIcon.classList.add('turtle-color');
            } else {
                turtleIcon.classList.remove('turtle-color');
            }
            
            // Tambahkan efek warna pada progress bar berdasarkan persentase
            if (percentage > 70) {
                progressFill.style.background = `linear-gradient(to right, var(--hijau-muda), var(--hijau-tua))`;
            } else if (percentage > 40) {
                progressFill.style.background = `linear-gradient(to right, var(--hijau-muda), var(--hijau-kebiruan))`;
            } else if (percentage > 10) {
                progressFill.style.background = `linear-gradient(to right, var(--hijau-muda), var(--jingga-terang))`;
            }
        }
        
        // Fungsi untuk membuat countdown
        function createCountdown(targetDate, containerId) {
            const countdownContainer = document.getElementById(containerId);
            
            // Kosongkan container terlebih dahulu
            countdownContainer.innerHTML = '';
            
            const timeUnits = [
                { label: 'Hari', value: 0 },
                { label: 'Jam', value: 0 },
                { label: 'Menit', value: 0 },
                { label: 'Detik', value: 0 }
            ];
            
            // Buat elemen countdown
            timeUnits.forEach(unit => {
                const countdownBox = document.createElement('div');
                countdownBox.className = 'countdown-box';
                
                const valueDiv = document.createElement('div');
                valueDiv.className = 'countdown-value';
                valueDiv.id = `${containerId}-${unit.label.toLowerCase()}`;
                valueDiv.textContent = '00';
                
                const labelDiv = document.createElement('div');
                labelDiv.className = 'countdown-label';
                labelDiv.textContent = unit.label;
                
                countdownBox.appendChild(valueDiv);
                countdownBox.appendChild(labelDiv);
                countdownContainer.appendChild(countdownBox);
            });
            
            // Fungsi untuk memperbarui countdown
            function updateCountdown() {
                const now = new Date().getTime();
                const distance = targetDate - now;
                
                if (distance < 0) {
                    // Jika target date sudah lewat
                    document.getElementById(`${containerId}-hari`).textContent = '00';
                    document.getElementById(`${containerId}-jam`).textContent = '00';
                    document.getElementById(`${containerId}-menit`).textContent = '00';
                    document.getElementById(`${containerId}-detik`).textContent = '00';
                    return;
                }
                
                // Hitung waktu
                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);
                
                // Update tampilan
                document.getElementById(`${containerId}-hari`).textContent = days.toString().padStart(2, '0');
                document.getElementById(`${containerId}-jam`).textContent = hours.toString().padStart(2, '0');
                document.getElementById(`${containerId}-menit`).textContent = minutes.toString().padStart(2, '0');
                document.getElementById(`${containerId}-detik`).textContent = seconds.toString().padStart(2, '0');
            }
            
            // Update countdown setiap detik
            updateCountdown();
            setInterval(updateCountdown, 1000);
        }
        
        // Fungsi untuk menambahkan efek interaktif pada logo
        function setupLogoInteraction() {
            const logo = document.getElementById('animated-logo');
            
            logo.addEventListener('mouseenter', function() {
                this.style.animation = 'float 3s ease-in-out infinite, rotate 10s linear infinite';
                this.style.transform = 'scale(1.1)';
            });
            
            logo.addEventListener('mouseleave', function() {
                this.style.animation = 'float 6s ease-in-out infinite, rotate 20s linear infinite';
                this.style.transform = 'scale(1)';
            });
            
            logo.addEventListener('click', function() {
                this.style.background = `radial-gradient(circle, ${getRandomColor()}, ${getRandomColor()})`;
            });
        }
        
        // Fungsi untuk menghasilkan warna acak dari palet warna yang ada
        function getRandomColor() {
            const colors = [
                '#BCCCB6', '#FEF6E4', '#569F9B', 
                '#EE8D22', '#046399', '#038560'
            ];
            return colors[Math.floor(Math.random() * colors.length)];
        }

        /* ===== Galeri: simple carousel otomatis ===== */
        function initGalleryCarousel() {
            const track = document.getElementById('gallery-track');
            const items = track ? Array.from(track.children) : [];
            const prevBtn = document.getElementById('gallery-prev');
            const nextBtn = document.getElementById('gallery-next');
            const dotsWrap = document.getElementById('gallery-dots');
            if (!track || !items.length) return;

            // Buat dots sesuai jumlah "halaman" (sesuaikan itemPerPage)
            const itemWidth = items[0].getBoundingClientRect().width + parseFloat(getComputedStyle(track).gap || 14);
            const viewportWidth = track.parentElement.clientWidth - 24; // padding
            const itemPerPage = Math.floor(viewportWidth / itemWidth) || 1;
            const pages = Math.ceil(items.length / itemPerPage);

            let currentIndex = 0;
            let autoplayInterval = null;
            let isHovered = false;

            // buat dots
            for (let i=0; i<pages; i++) {
                const btn = document.createElement('button');
                btn.addEventListener('click', () => {
                    goToPage(i);
                    resetAutoplay();
                });
                dotsWrap.appendChild(btn);
            }
            const dots = Array.from(dotsWrap.children);

            function updateDots() {
                dots.forEach((d, i) => d.classList.toggle('active', i === currentIndex));
            }

            function goToPage(page) {
                currentIndex = Math.max(0, Math.min(pages-1, page));
                const offset = -currentIndex * (itemPerPage * itemWidth);
                track.style.transform = `translateX(${offset}px)`;
                updateDots();
            }

            function prev() { goToPage(currentIndex - 1); }
            function next() { goToPage(currentIndex + 1); }

            prevBtn && prevBtn.addEventListener('click', () => { prev(); resetAutoplay(); });
            nextBtn && nextBtn.addEventListener('click', () => { next(); resetAutoplay(); });

            // Hover pause
            track.parentElement.addEventListener('mouseenter', () => { isHovered = true; stopAutoplay(); });
            track.parentElement.addEventListener('mouseleave', () => { isHovered = false; startAutoplay(); });

            function startAutoplay() {
                if (autoplayInterval) return;
                autoplayInterval = setInterval(() => {
                    if(!isHovered) {
                        currentIndex = (currentIndex + 1) % pages;
                        goToPage(currentIndex);
                    }
                }, 4000); // 4 detik
            }
            function stopAutoplay() {
                if (autoplayInterval) { clearInterval(autoplayInterval); autoplayInterval = null; }
            }
            function resetAutoplay() { stopAutoplay(); startAutoplay(); }

            // inisialisasi
            goToPage(0);
            startAutoplay();

            // Responsif: recalc itemPerPage on resize
            window.addEventListener('resize', () => {
                stopAutoplay();
                // recompute sizes - simple approach: reload page layout
                // better: recompute itemWidth/viewport and goToPage(0)
                goToPage(0);
                resetAutoplay();
            });
        }

        /* ===== Back to top ===== */
        function initBackToTop() {
            const btn = document.getElementById('back-to-top');
            if (!btn) return;
            window.addEventListener('scroll', () => {
                if (window.scrollY > 300) btn.classList.add('show');
                else btn.classList.remove('show');
            });
            btn.addEventListener('click', () => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
        }

        
        // Fungsi untuk menginisialisasi semua elemen
        function initializePage() {

            // Update tanggal realtime
            updateRealtimeDate();
            setInterval(updateRealtimeDate, 1000);
            
            // Setup countdown ke 19 Desember 2025
            const targetDate1 = new Date('2025-12-19T00:00:00');
            createCountdown(targetDate1, 'countdown-december');
            
            // Setup countdown ke 7 Februari 2026
            const targetDate2 = new Date('2026-02-07T00:00:00');
            createCountdown(targetDate2, 'countdown-february');
            
            // Update animasi penyu
            updateTurtleAnimation();
            setInterval(updateTurtleAnimation, 60000); // Update setiap menit
            
            // Setup interaksi logo
            setupLogoInteraction();

            initGalleryCarousel();
            initBackToTop();
            initMusicControl();
            
            // Tambahkan efek kedatangan elemen
            document.querySelectorAll('.section').forEach((section, index) => {
                section.style.opacity = '0';
                section.style.transform = 'translateY(20px)';
                
                setTimeout(() => {
                    section.style.transition = 'opacity 0.8s ease, transform 0.8s ease';
                    section.style.opacity = '1';
                    section.style.transform = 'translateY(0)';
                }, 300 + (index * 300));
            });
        }

        /* ===== MUSIC PLAYER ===== */
        function initMusicControl() {
            const music = document.getElementById('bg-music');
            const toggleBtn = document.getElementById('music-toggle');
            const volUp = document.getElementById('volume-up');
            const volDown = document.getElementById('volume-down');
            const controlBox = document.querySelector('.music-control');

            let isPlaying = false;
            music.volume = 0.5; // volume awal 50%

            toggleBtn.addEventListener('click', () => {
                if (isPlaying) {
                    music.pause();
                    toggleBtn.textContent = 'â–¶';
                    controlBox.classList.remove('playing');
                } else {
                    music.play();
                    toggleBtn.textContent = 'â¸';
                    controlBox.classList.add('playing');
                }
                isPlaying = !isPlaying;
            });

            volUp.addEventListener('click', () => {
                music.volume = Math.min(music.volume + 0.1, 1);
            });

            volDown.addEventListener('click', () => {
                music.volume = Math.max(music.volume - 0.1, 0);
            });
        }

        
        // Jalankan inisialisasi saat halaman selesai dimuat
        window.addEventListener('DOMContentLoaded', initializePage);
    </script>
</body>
</html>